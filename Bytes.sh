#!/bin/bash

for file in `ls $1/*.bytes`
do
	if [ -f $file ]; then
		awk -F' ' 'sub($1,"")' $file > $(dirname $file)"/hex/"$(basename $file .bytes)".hex"
		sed -i -n 's/^[ ]*//g' $(dirname $file)"/hex/"$(basename $file .bytes)".hex"
		sed -i -n '/\?\?/d' $(dirname $file)"/hex/"$(basename $file .bytes)".hex"
		sed -i -n "/^$/d" $(dirname $file)"/hex/"$(basename $file .bytes)".hex"
	else
		echo "No bytes files exists, please check!"
	fi
done
